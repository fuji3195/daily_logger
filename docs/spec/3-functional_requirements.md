# 3. 機能要件

| No.       | 要件内容                                            | 対応 US     | 優先度* |
| --------- | ----------------------------------------------- | --------- | ---- |
| **FR-01** | **カテゴリ CRUD**                                   | US-02     | M    |
| **FR-02** | **エントリ CRUD**（日時・数値・メモ）                         | US-01, 08 | M    |
| **FR-03** | **ローカル SQLite** 完全 CRUD（オフライン）                  | US-04     | M    |
| **FR-04** | **差分同期**（SQLite ↔ PostgreSQL）                   | US-05     | M    |
| **FR-05** | 折れ線・棒・ヒートマップ描画                                  | US-03     | M    |
| **FR-06** | 任意期間 **CSV／JSON エクスポート**                        | US-06     | S    |
| **FR-07** | **デイリーリマインダー通知**（任意設定）                          | US-07     | S    |
| **FR-08** | カテゴリ **色・単位カスタマイズ**                             | US-02     | S    |
| **FR-09** | **入力バリデーション**（数値／日時・未来日ブロック）                    | US-11     | M    |
| **FR-10** | **バックアップ & リストア**（SQLite .zip）                  | US-15     | S    |
| **FR-11** | **差分競合 UI**（多端末編集をマージ表示）                        | US-12     | S    |
| **FR-12** | 通知 **Deep-Link**：タップで「Quick Add」へ               | —         | C    |
| **FR-13** | **全文検索**（カテゴリ名・メモ）                              | US-17     | C    |
| **FR-14** | **ユニット変換／単位変更**（基準単位保存 & 再変換）                   | US-16     | M    |
| **FR-15** | **グラフ定義 CRUD**（窓長・集計関数を保存）                      | US-09     | S    |
| **FR-16** | **移動平均／統計 API**（`window`,`func` パラメータ）          | US-09     | S    |
| **FR-17** | **認証フロー CRUD**（ログイン・トークン更新・ログアウト）               | US-13     | M    |
| **FR-18** | **Rate-Limit & API 利用量取得**（429 & `/rate_limit`） | US-18     | C    |
| **FR-19** | **ヘルスチェック** `/healthz` & `/readyz`（no-auth）     | —         | M    |
| **FR-20** | **アクセシビリティモード**（高コントラスト・大フォント）                  | US-19     | S    |
| **FR-21** | **API バージョニング維持**（後方互換／`/v1` プレフィックス）           | US-14     | C    |
