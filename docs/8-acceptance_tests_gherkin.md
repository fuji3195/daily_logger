# 8. 受け入れテスト (Gherkin)

```gherkin
機能: クイック数値入力
  シナリオ: 体重を追加
    前提 Alice が「ダッシュボード」にいる
    もし "+" をタップして "体重" を選択
    かつ "68.2" を入力
    ならば 今日のリストにエントリが表示される
    かつ 折れ線グラフに点が追加される

機能: オフライン記録
  シナリオ: 機内モード
    前提 Bob が機内モードを有効化している
    もし "1200" の支出を追加
    ならば エントリはローカル保存される
    かつ 「同期待ち」バッジが表示される

機能: CSVエクスポート
  シナリオ: 先月のデータをエクスポート
    前提 Chris が「設定」画面にいる
    もし "2025-05-01..31" で「CSVエクスポート」を選択
    ならば "DailyLogger-2025-05.csv" がダウンロードされる

機能: カテゴリ編集
  シナリオ: カテゴリ名を変更
    前提 Alice に "体重" カテゴリがある
    もし Alice が "体重" を "体重(AM)" にリネーム
    ならば ダッシュボードのカード名が "体重(AM)" になる

機能: 同期競合
  シナリオ: 2端末から同じエントリを編集
    前提 Alice が端末A・Bで同じアカウントにログイン
    かつ 端末Aで 68.0 を入力
    かつ 端末Bで オフライン中に 67.5 を入力
    もし 端末Bがオンラインになり同期
    ならば 競合解決ダイアログが表示される
    かつ Alice が "マージ" を選択すると値が 67.75 になる

機能: 無効入力
  シナリオ: 数値以外を入力
    前提 Bob が「＋」画面にいる
    もし "abc" と入力
    ならば "数値を入力してください" エラートーストが表示される
```
